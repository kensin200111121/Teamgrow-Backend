var mongoose = require('mongoose');

module.exports = {
  async up(db, client) {
    // TODO write your migration here.
    // See https://github.com/seppevs/migrate-mongo/#creating-a-new-migration-script
    // Example:
    // await db.collection('albums').updateOne({artist: 'The Beatles'}, {$set: {blacklisted: true}});
    const prodIds = [
      { id: '65dd0da28ec16edc7233fdaf', vortexId: '93' },
      { id: '64c7f2a621484d3cfc525636', vortexId: '2360' },
      { id: '64ff4757f92cc96e9f182172', vortexId: '2844' },
      { id: '64ee4b369751a1dd3b5b8468', vortexId: '8550' },
      { id: '64c9626221484d3cfc634d8a', vortexId: '10971' },
      { id: '62a11c38e1b2e4001d45f927', vortexId: '30245' },
      { id: '65089c3ced6deb62dcd1f555', vortexId: '32749' },
      { id: '65400d5fceb323b76c4567f3', vortexId: '108641' },
      { id: '64cd2c7694f3a72daa7f244e', vortexId: '112271' },
      { id: '64cd2b8694f3a72daa7f0b69', vortexId: '155221' },
      { id: '65494496494a36284a8a797c', vortexId: '254341' },
      { id: '653c1214722fd4db00331754', vortexId: '696371' },
      { id: '63bd615d83a3580014a33ebf', vortexId: '1107651' },
      { id: '654a66bf494a36284a918072', vortexId: '1377001' },
      { id: '64cd2d2b1d3138ade9b07f5b', vortexId: '1729051' },
      { id: '6489cb284a62f50c27074a94', vortexId: '1806051' },
      { id: '64fa076e14e277f52d71c1a9', vortexId: '1841311' },
      { id: '64d1108e44972de0cbc23c2b', vortexId: '1877081' },
      { id: '65533d6c022c364426612805', vortexId: '2079581' },
      { id: '64ad858ead1f1bf455bce804', vortexId: '2087771' },
      { id: '652355bbfede7a3018108119', vortexId: '2149891' },
      { id: '64ad87a0ad1f1bf455bd0f8c', vortexId: '2207191' },
      { id: '65533d6ed5580b545525fe1f', vortexId: '2215591' },
      { id: '6553c02f022c364426642612', vortexId: '2219061' },
      { id: '64ad8d29ad1f1bf455bd8c68', vortexId: '2222941' },
      { id: '6489cb534a62f50c27074b8d', vortexId: '2222951' },
      { id: '653c11d7722fd4db003314a9', vortexId: '2237651' },
      { id: '65533d6dd5580b545525fe10', vortexId: '2245401' },
      { id: '64c19c1332ea2f1bf0174241', vortexId: '2249421' },
      { id: '6564f543557f1062772b49ae', vortexId: '2249611' },
      { id: '64ad8aa2ad1f1bf455bd3090', vortexId: '2284261' },
      { id: '65440fb387223d4b81a3fca7', vortexId: '2292201' },
      { id: '6500a761cd6e755df05e98d8', vortexId: '2311903' },
      { id: '64d11cfa44972de0cbc3e5d4', vortexId: '2314733' },
      { id: '64adb72bad1f1bf455c099a8', vortexId: '2317723' },
      { id: '6489cb70f7673783d58d38ae', vortexId: '2324233' },
      { id: '63f688052ad3cf672a77fb86', vortexId: '2325063' },
      { id: '64ad8c8eb425f417edb9e58e', vortexId: '2330413' },
      { id: '64cad0f26397cedd0871a984', vortexId: '2338613' },
      { id: '65533d34022c3644266127f4', vortexId: '2339553' },
      { id: '652355bdcdf3b6ccbc24af88', vortexId: '2354053' },
      { id: '65089fa95d5ecb8b97e71960', vortexId: '2355523' },
      { id: '64efba030232ffa698d50a9f', vortexId: '2360093' },
      { id: '6542cf1487223d4b819bf66b', vortexId: '2360923' },
      { id: '65c4f2c75e95cf0e510fe34b', vortexId: '2366933' },
      { id: '64ad8cdcad1f1bf455bd5320', vortexId: '2367223' },
      { id: '5fd97ad994cf273d68a016da', vortexId: '2371383' },
      { id: '63d23422b44470001cecb293', vortexId: '2371393' },
      { id: '64ff9feff92cc96e9f1d6512', vortexId: '2377133' },
      { id: '65394214377e9aed7b710399', vortexId: '2394823' },
      { id: '6553cd8bd5580b5455291aaf', vortexId: '2398493' },
      { id: '61f8335b4327ee0015fa7476', vortexId: '2403873' },
      { id: '6528a60d5ad2f50cce4a3434', vortexId: '2412293' },
      { id: '64d1508aa8aa80abdf79f7da', vortexId: '2418813' },
      { id: '654a6e03a5abbeb970ce138c', vortexId: '2442653' },
      { id: '65fafa6b308826814cdd2fdc', vortexId: '2455493' },
      { id: '652355bcfede7a301810812b', vortexId: '2460303' },
      { id: '6601a7b6230f362a3b387695', vortexId: '2460333' },
      { id: '64dfeb86945b5fa1105a38bd', vortexId: '2460393' },
      { id: '64dff55e945b5fa1105adfc9', vortexId: '2460403' },
      { id: '64e537631694de01e0d705be', vortexId: '2461183' },
      { id: '64e5389271121b62c0aa31e2', vortexId: '2461193' },
      { id: '64e539f81694de01e0d72b4c', vortexId: '2461203' },
      { id: '64e53b241694de01e0d73108', vortexId: '2461213' },
      { id: '64e53d7c1694de01e0d740f9', vortexId: '2461223' },
      { id: '64fba33b3f618fccec9e2498', vortexId: '2464283' },
      { id: '64fbb4933f618fccec9e792b', vortexId: '2464293' },
      { id: '65009eb3cd6e755df05e23a0', vortexId: '2464903' },
      { id: '6153263f38ebfe00168bc10b', vortexId: '2465923' },
      { id: '627d0f14b1939d00157d7f2b', vortexId: '2465953' },
      { id: '627d0f31b1939d00157d8230', vortexId: '2465963' },
      { id: '62a7422c130879001baac11c', vortexId: '2465973' },
      { id: '62a74241130879001baac155', vortexId: '2465983' },
      { id: '62a7425d130879001baac195', vortexId: '2466003' },
      { id: '651744e63f0e104535b2637a', vortexId: '2469233' },
      { id: '651745d63f0e104535b26ae6', vortexId: '2469243' },
      { id: '6517468a3f0e104535b26c34', vortexId: '2469253' },
      { id: '652821db5ad2f50cce45fcde', vortexId: '2474783' },
      { id: '653be2ba4b600d00857c1574', vortexId: '2479953' },
      { id: '654519f222e2cb21199b52ec', vortexId: '2481853' },
      { id: '6489cbb44a62f50c27074cc3', vortexId: '2482423' },
      { id: '65497954a5abbeb970ca3408', vortexId: '2482693' },
      { id: '654979caa5abbeb970ca349f', vortexId: '2482703' },
      { id: '65533d6e022c364426612816', vortexId: '2485113' },
      { id: '65533d6f022c36442661282b', vortexId: '2485123' },
      { id: '6553bbf7022c3644266401ec', vortexId: '2485553' },
      { id: '6557e713d5580b545539553c', vortexId: '2486303' },
      { id: '655cf8cf022c36442687a4cf', vortexId: '2486783' },
      { id: '659eec025cd2f4f579a6fd00', vortexId: '2493433' },
      { id: '659f3aff40925549e32975ce', vortexId: '2501793' },
      { id: '659ff5550f73fc97b6acc85a', vortexId: '2501853' },
      { id: '659ff6628acdad5abf644670', vortexId: '2501863' },
      { id: '659ff6b40f73fc97b6accb27', vortexId: '2501873' },
      { id: '65a1d606e97aab25b381c2db', vortexId: '2502133' },
      { id: '65b7c8b21635de89a7b3fbfd', vortexId: '2502143' },
      { id: '636577c1d35763001b129d8e', vortexId: '2508913' },
    ];

    const stageIds = [
      { id: '64372a5b12610c5c7bd05eeb', vortexId: '93' },
      { id: '65d786e0b89ecda86a096507', vortexId: '2360' },
      { id: '64275c1b39237df8392fc645', vortexId: '8550' },
      { id: '642d9480bce725479655f134', vortexId: '10971' },
      { id: '644fdef990f94a0a532fa4b0', vortexId: '32749' },
      { id: '645d645436a083046a6df0da', vortexId: '53061' },
      { id: '646272ad29291108f60cb6b8', vortexId: '58751' },
      { id: '6439b9269ac8fe0f9ddcc24c', vortexId: '112271' },
      { id: '64cc1822bc23dedb7a416ac6', vortexId: '155221' },
      { id: '65dd23aabda7df5f59fe0b6c', vortexId: '209111' },
      { id: '64344ae2854184033c9e0c41', vortexId: '347611' },
      { id: '64344ae3854184033c9e0c50', vortexId: '696371' },
      { id: '645d645436a083046a6df0e5', vortexId: '876741' },
      { id: '642ca68ebce725479655e98e', vortexId: '1223511' },
      { id: '659724fe0240b96d10200ef3', vortexId: '1729051' },
      { id: '64344a6b854184033c9e0c23', vortexId: '1806051' },
      { id: '64022101fefae1755e864aff', vortexId: '1836011' },
      { id: '642d97bbbce725479655f146', vortexId: '1841311' },
      { id: '6430405b525442f4d1bce4a8', vortexId: '1877081' },
      { id: '65ce6bda496a3ebfd5a6c3b5', vortexId: '1932361' },
      { id: '645d645f36a083046a6df177', vortexId: '2071991' },
      { id: '64344b1f854184033c9e0c5f', vortexId: '2087771' },
      { id: '6435883b7c394f8d37c155dc', vortexId: '2103111' },
      { id: '64371edf12610c5c7bd05d81', vortexId: '2115991' },
      { id: '642af9a75429a97087e03d04', vortexId: '2116551' },
      { id: '645d645c36a083046a6df140', vortexId: '2143631' },
      { id: '642ca5dabce725479655e979', vortexId: '2183881' },
      { id: '6434493e854184033c9e0bba', vortexId: '2188951' },
      { id: '646272ac29291108f60cb6a7', vortexId: '2190881' },
      { id: '65d6846e8abe5f2dfa0648cc', vortexId: '2191411' },
      { id: '65aa345850e58f072207df17', vortexId: '2195621' },
      { id: '642b55bcfc855754a3c49ab8', vortexId: '2215841' },
      { id: '643449f3854184033c9e0bf6', vortexId: '2207191' },
      { id: '648caedcca3f09bcf7973aba', vortexId: '2207221' },
      { id: '65c18b9a14f98d771b6c863e', vortexId: '2219061' },
      { id: '642d97bdbce725479655f159', vortexId: '2219071' },
      { id: '6437222812610c5c7bd05dea', vortexId: '2222931' },
      { id: '64344aa6854184033c9e0c32', vortexId: '2222951' },
      { id: '64344b1f854184033c9e0c6e', vortexId: '2237651' },
      { id: '64b965069491d32cdeb931cf', vortexId: '2249421' },
      { id: '64385ecac8e7a586c3af8b77', vortexId: '2254801' },
      { id: '6425c2a6905a24c21f9ee24d', vortexId: '2267151' },
      { id: '648ca93aca3f09bcf7973a94', vortexId: '2284261' },
      { id: '648caedbca3f09bcf7973aa9', vortexId: '2292201' },
      { id: '64385e17c8e7a586c3af8b6b', vortexId: '2294391' },
      { id: '645d645a36a083046a6df12a', vortexId: '2300333' },
      { id: '6466429ad30cc7128b7ab580', vortexId: '2310233' },
      { id: '6557a0c243f9564775778227', vortexId: '2312183' },
      { id: '6437347012610c5c7bd06028', vortexId: '2314733' },
      { id: '64344b5a854184033c9e0c7d', vortexId: '2314883' },
      { id: '64344a6b854184033c9e0c14', vortexId: '2323963' },
      { id: '6434497a854184033c9e0bc9', vortexId: '2324233' },
      { id: '65f20497e74a7b95e4b870f3', vortexId: '2325063' },
      { id: '643449f2854184033c9e0be7', vortexId: '2330413' },
      { id: '63f56c2254d5ac0c7194242c', vortexId: '2334463' },
      { id: '652979eaa7bb1c120ab0a65e', vortexId: '2412293' },
      { id: '645d645e36a083046a6df161', vortexId: '2354943' },
      { id: '642216935c56b924182e29f9', vortexId: '2360923' },
      { id: '64cbe9425936f3d725785292', vortexId: '2360093' },
      { id: '645d645736a083046a6df111', vortexId: '2364723' },
      { id: '6434497b854184033c9e0bd8', vortexId: '2366933' },
      { id: '64344a2e854184033c9e0c05', vortexId: '2367223' },
      { id: '645d645636a083046a6df0fb', vortexId: '2367593' },
      { id: '5fd97ad994cf273d68a016da', vortexId: '2371383' },
      { id: '613b625f1ce56a69c8dd1c63', vortexId: '2371393' },
      { id: '645d645b36a083046a6df135', vortexId: '2372923' },
      { id: '645d645e36a083046a6df16c', vortexId: '2376473' },
      { id: '658efcf222a555e8f56b6810', vortexId: '2377133' },
      { id: '645d645536a083046a6df0f0', vortexId: '2378243' },
      { id: '655532bb1265d8b42b792eda', vortexId: '2383463' },
      { id: '645d645d36a083046a6df156', vortexId: '2400833' },
      { id: '6035a9da27952a3187d07276', vortexId: '2394823' },
      { id: '6578e1f773dddcdb02b47957', vortexId: '2398493' },
      { id: '645d645336a083046a6df0cf', vortexId: '2400443' },
      { id: '645d645636a083046a6df106', vortexId: '2401243' },
      { id: '645d645836a083046a6df11c', vortexId: '2401943' },
      { id: '645d645c36a083046a6df14b', vortexId: '2401983' },
      { id: '62194976efb6b21ef0bc36ce', vortexId: '2403873' },
      { id: '642b5601fc855754a3c49acb', vortexId: '2415773' },
      { id: '64b1a8cada6cefde5ea8e6db', vortexId: '2418813' },
      { id: '62d6e99b4304d536d9cf9829', vortexId: '2435183' },
      { id: '64aef9d778c3d10e1b244319', vortexId: '2435283' },
      { id: '64b972269491d32cdeb9346d', vortexId: '2435413' },
      { id: '62d6e9644304d536d9cf9826', vortexId: '2435163' },
      { id: '62d6e9d84304d536d9cf982c', vortexId: '2435173' },
      { id: '635a95cd08fdb3622b070b48', vortexId: '2435193' },
      { id: '62b6155cc0493e211a9e8a28', vortexId: '2435203' },
      { id: '62b325e9a0699b06f6a402d9', vortexId: '2435213' },
      { id: '64a80d7e262b1aa2e5ccda61', vortexId: '2435233' },
      { id: '64a825de262b1aa2e5ccdad5', vortexId: '2435243' },
      { id: '63d77a067b469e272471a03d', vortexId: '2435293' },
      { id: '63b6ec5db199d3535de0f616', vortexId: '2435303' },
      { id: '64aeffef78c3d10e1b244370', vortexId: '2435313' },
      { id: '64b970479491d32cdeb9342a', vortexId: '2435403' },
      { id: '6552c0f4cf56b50886b71b5b', vortexId: '2435843' },
      { id: '658f056322a555e8f56b68a5', vortexId: '2435723' },
      { id: '64b973539491d32cdeb965b9', vortexId: '2435423' },
      { id: '64b974ba9491d32cdeb968a3', vortexId: '2435433' },
      { id: '64b976d79491d32cdeb968ff', vortexId: '2435443' },
      { id: '642ae8bff6d143d234216c69', vortexId: '2435643' },
      { id: '6439b9269ac8fe0f9ddcc24c', vortexId: '2436533' },
      { id: '6310e5c1d55dce39ff691163', vortexId: '2436513' },
      { id: '6439b9269ac8fe0f9ddcc24c', vortexId: '2436583' },
      { id: '6439b9269ac8fe0f9ddcc24c', vortexId: '2436553' },
      { id: '6439b9269ac8fe0f9ddcc24c', vortexId: '2436563' },
      { id: '6439b9269ac8fe0f9ddcc24c', vortexId: '2436573' },
      { id: '658efcf222a555e8f56b6810', vortexId: '2436643' },
      { id: '65a817face6ba0c523c11a6f', vortexId: '2436653' },
      { id: '63d92c28a810630c757ccd4d', vortexId: '2436493' },
      { id: '6439b9269ac8fe0f9ddcc24c', vortexId: '2436543' },
      { id: '63405acbff499908a36c5c6d', vortexId: '2436503' },
      { id: '63f4f22354d5ac0c71942167', vortexId: '2436363' },
      { id: '65f36372af20791d7a60b061', vortexId: '2436773' },
      { id: '6583654af0e850d44361d520', vortexId: '2436813' },
    ];
    const devIds = [{ id: '64aef9d778c3d10e1b244319', vortexId: '2435283' }];
    let workIds = [];
    if (process.env.NODE_ENV === 'production') {
      workIds = [...prodIds];
    } else if (process.env.NODE_ENV === 'staging') {
      workIds = [...stageIds];
    } else {
      workIds = [...devIds];
    }
    workIds.forEach((e) => {
      const _id = new mongoose.Types.ObjectId(e.id);
      db.collection('users')
        .updateOne(
          { _id },
          {
            $set: {
              vortex_id: e.vortexId,
            },
          }
        )
        .catch((e) =>
          console.log('update error, ', e.error || e.message || e.msg)
        );
    });
  },

  async down(db, client) {
    // TODO write the statements to rollback your migration (if possible)
    // Example:
    // await db.collection('albums').updateOne({artist: 'The Beatles'}, {$set: {blacklisted: false}});
  },
};
